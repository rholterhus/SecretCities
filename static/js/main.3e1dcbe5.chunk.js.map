{"version":3,"sources":["logo.svg","App.js","reportWebVitals.js","index.js"],"names":["removeSlashSuffix","input","charAt","length","substr","capitalize","str","toUpperCase","slice","axios","require","mapboxgl","workerClass","default","accessToken","useStyles","makeStyles","theme","menuButton","position","left","top","margin","spacing","menuIcon","fill","modalCancelButton","right","startModalClose","modalCancelIcon","width","height","suggestButton","marginRight","cardRoot","modalImageButtonLeft","maxWidth","moadlImageButtonRight","loadingCircle","maxHeight","buildPopup","title","image","popupHTML","parseTuple","t","items","replace","split","forEach","val","index","array","map","Number","reverse","mod","n","m","Sidebar","open","locations","mapRef","city","useState","filter","setFilter","history","useHistory","urlLocation","useLocation","filterUsed","test","filteredLocations","location","name","toLowerCase","includes","useEffect","current","setFeatureState","source","id","location_id","filtered","className","onChange","e","onCancelSearch","style","borderRadius","borderBottom","boxShadow","backgroundColor","onMouseDown","push","pathname","onMouseEnter","coordinates","images","popup","Popup","closeButton","closeOnClick","flyTo","center","esssential","speed","fire","setLngLat","setHTML","addTo","hover","on","remove","onMouseLeave","description","MemoizedSidebar","React","memo","SuggestionPage","classes","setTitle","setDescription","mapCoordinates","setMapCoordinates","email","setEmail","state","setState","mapStyle","setMapStyle","useRef","lng","setLng","lat","setLat","zoom","setZoom","pitch","setPitch","bearing","setBearing","suggestionMap","Map","container","addControl","NavigationControl","getCenter","toFixed","getZoom","getPitch","getBearing","topRights","document","getElementsByClassName","i","topRightButtons","children","childNodes","button","createElement","type","overflow","addEventListener","innerHTML","insertBefore","firstChild","addSource","addLayer","lngLat","getSource","setData","IconButton","onClick","window","confirm","CircularProgress","onSubmit","preventDefault","formData","FormData","target","append","post","headers","then","res","encType","value","htmlFor","accept","multiple","event","imagePreviews","getElementById","img","Image","src","URL","createObjectURL","files","onload","revokeObjectURL","appendChild","display","Modal","locationName","useParams","locationIndex","l","indexOf","imageIndex","setImageIndex","prev","modalImageButtonIcon","modalImageButtonRight","caption","StartModal","closeModal","App","initialZoom","mapContainer","setOpen","localStorage","getItem","modalOpen","setModalOpen","userPosition","setUserPosition","mapboxStyle","setMapboxStyle","setLocations","navigator","geolocation","getCurrentPosition","get","resp","data","coords","longitude","latitude","addUserToMap","setTerrain","hoveredID","features","properties","getCanvas","cursor","geometry","Math","abs","path","dirname","Button","size","variant","setItem","exact","ref","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","cities","ReactDOM","render","StrictMode","component","props","to"],"mappings":"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","file":"static/js/main.3e1dcbe5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import logo from './logo.svg';\nimport './App.css';\nimport React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\n\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Switch from '@material-ui/core/Switch';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport SearchBar from \"material-ui-search-bar\";\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nimport { Switch as RouterSwitch, Route, Link, useLocation, useParams, useHistory} from 'react-router-dom';\n\nimport path from 'path';\n\nconst removeSlashSuffix = (input)  => {\n  if (input.charAt(input.length - 1) === \"/\") {\n      return input.substr(0, input.length - 1)\n  } else {\n      return input;\n  }\n}\n\nconst capitalize = str => str.charAt(0).toUpperCase() + str.slice(1);\n\nconst addUserToMap = (map, userPosition) => {\n  map.addSource('user', {\n    'type': 'geojson',\n    'data': {\n      'type': 'FeatureCollection',\n      'features': [{\n        'geometry': {\n          'type': 'Point',\n          'coordinates': [userPosition.coords.longitude, userPosition.coords.latitude]\n        }\n      }]\n    }\n  }\n  );\n  \n  map.addLayer({\n    'id': 'user',\n    'type': 'circle',\n    'source': 'user',\n    'paint': {\n      'circle-color': '#00ffff',\n      'circle-radius': 5,\n    }\n  });\n}\n\n\nconst axios = require('axios');\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass = require('worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker').default;\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiaG9sdGVyaHVzIiwiYSI6ImNrOWhkem96ZDB3Z2EzZ25hM3NhMXRuY2QifQ._wWey2Tkg64i1vzd1tUIoQ';\n\n\nconst useStyles = makeStyles((theme) => ({\n  menuButton: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    margin: theme.spacing(1),\n  },\n  menuIcon: {\n    fill: 'white'\n  },\n  modalCancelButton: {\n    position: 'absolute',\n    right: 0,\n  },\n  startModalClose: {\n    position: 'absolute',\n    right: 0,\n    top: 0\n  },\n  modalCancelIcon: {\n    fill: 'black',\n    width: \"35px\",\n    height: \"35px\"\n  },\n  suggestButton: {\n    position: 'absolute',\n    right: 0,\n    marginRight: theme.spacing(1),\n  },\n  cardRoot: {\n    width: '100%',\n  },\n  modalImageButtonLeft: {\n    maxWidth: '10%',\n  },\n  moadlImageButtonRight: {\n    maxWidth: '10%',\n  },\n  loadingCircle: {\n    maxWidth: '50%',\n    maxHeight: '50%'\n  }\n}));\n\n\nconst buildPopup = (title, image) => {\n  let popupHTML = `<div style=\"display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;\">`\n  popupHTML += `<strong>${title}</strong>`\n  popupHTML += image ? `<img src=\\\"${image}\\\" style=\"max-width: 30vmin; max-height: 25vmin;\"/>` : ''\n  popupHTML += `</div>`\n  return popupHTML;\n}\n\nfunction parseTuple(t) {\n  var items = t.replace(/^\\(|\\)$/g, \"\").split(\"),(\");\n  items.forEach(function(val, index, array) {\n    array[index] = val.split(\",\").map(Number);\n  });\n  return items[0].reverse();\n}\n\nfunction mod(n, m) {\n  return ((n % m) + m) % m;\n}\n\n\n\nconst Sidebar = ({ open, locations, mapRef, city }) => {\n\n  const [filter, setFilter] = useState('');\n  const history = useHistory();\n  const urlLocation = useLocation();\n\n  const filterUsed = /[a-zA-Z]/g.test(filter);\n\n  const filteredLocations = locations.filter(location => {\n    return !filterUsed || location.name.toLowerCase().includes(filter.toLowerCase());\n  })\n\n  useEffect(() => {\n    if (mapRef.current != null) {\n      locations.forEach(location => {\n        mapRef.current.setFeatureState({source: 'locations', id: location.location_id}, { filtered: false });\n      })\n      if (filterUsed) {\n        filteredLocations.forEach(location => {\n          mapRef.current.setFeatureState({source: 'locations', id: location.location_id}, { filtered: true });\n        })\n      }\n    }\n  }, [filter]);\n\n  return (\n    <div className={\"sidebar \" + (open ? \"open\" : \"closed\")}>\n      <SearchBar\n        onChange={(e) => setFilter(e)}\n        onCancelSearch={() => setFilter('')}\n        style={{\n          width: '100%',\n          borderRadius: 0,\n          borderBottom: '1px solid black',\n          boxShadow: 'none',\n          backgroundColor: '#f5f5f5',\n        }}\n      />\n      <div className=\"cards\" id=\"cards\">\n        {filteredLocations.map(location => \n          <div \n            className=\"cardBase\"\n            key={location.location_id}\n            id={\"location-\" + location.location_id}\n            onMouseDown={() => history.push(removeSlashSuffix(urlLocation.pathname) === `/${city}` ? `${removeSlashSuffix(urlLocation.pathname)}/${location.name}` : `/${city}/${location.name}`)}\n          >\n            <div className=\"cardButtonContainer\">\n              <div \n                className={\"cardButton\" + (filterUsed ? \" filterUsed\" : \"\")}\n                onMouseEnter={() => {\n                  if(!mapRef.current) return;\n                  const coordinates = location.coordinates;\n                  const popupHTML = buildPopup(location.name, location.images[0]);\n                  var popup = new mapboxgl.Popup({\n                    closeButton:  false,\n                    closeOnClick: false,\n                  });\n    \n                  mapRef.current.flyTo({ center: coordinates, esssential: true, speed: 0.35 })\n                  mapRef.current.fire('closeAllPopups');\n                  popup.setLngLat(coordinates).setHTML(popupHTML).addTo(mapRef.current);\n                  mapRef.current.setFeatureState({source: 'locations', id: location.location_id}, { hover: true });\n                  mapRef.current.on('closeAllPopups', () => {\n                    popup.remove();\n                  });\n                }\n              }\n              onMouseLeave={() => {\n                  mapRef.current.fire('closeAllPopups');\n                  mapRef.current.setFeatureState({source: 'locations', id: location.location_id}, { hover: false });\n                }\n              }\n              >\n              </div>\n            </div> \n            <div className=\"cardTitle\">{location.name}</div>\n            <br/>\n            <div className=\"cardDescription\">\n              {location.description.slice(0, 100) + \"...\"}  \n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n\nconst MemoizedSidebar = React.memo(Sidebar);\n\n\n\nfunction App({ city, coordinates, id, initialZoom }) {\n\n  const classes = useStyles();\n  const history = useHistory();\n  const mapContainer = useRef(null);\n  const mapRef = useRef(null);\n  const [lng, setLng] = useState(coordinates[0]);\n  const [lat, setLat] = useState(coordinates[1]);\n  const [zoom, setZoom] = useState(initialZoom || 10);\n  const [pitch, setPitch] = useState(0);\n  const [bearing, setBearing] = useState(0);\n  const [open, setOpen] = useState(false);\n  const [modalOpen, setModalOpen] = useState(!localStorage.getItem('startModal'));\n  const [userPosition, setUserPosition] = useState(null);\n  const [mapboxStyle, setMapboxStyle] = useState('mapbox://styles/mapbox/streets-v11');\n  const [locations, setLocations] = useState([]);\n  const location = useLocation();\n\n\n  const toggleMapType = () => {\n    const newMapType = mapboxStyle === 'mapbox://styles/mapbox/streets-v11' ? \n    'mapbox://styles/mapbox/satellite-v9' : 'mapbox://styles/mapbox/streets-v11';\n    setMapboxStyle(newMapType);\n  }\n\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        setUserPosition(position);\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    axios.get(`https://secretcities.xyz:8080/locations?city_id=${id}`)\n    .then((resp) => {\n      const locations = resp.data.map(location => ({\n        ...location,\n        coordinates: parseTuple(location.coordinates),\n      }))\n      setLocations(locations);\n    });\n    \n  }, []);\n\n  \n  useEffect(() => {\n    document.title = `${capitalize(city)} Secrets`\n  }, [])\n\n  useEffect(() => {\n    const map = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: mapboxStyle,\n      center: [lng, lat],\n      zoom: zoom,\n      pitch: pitch, \n      bearing: bearing,\n    });\n    mapRef.current = map\n\n    // Add navigation control (the +/- zoom buttons)\n    map.addControl(new mapboxgl.NavigationControl(), 'top-right');\n\n\n    let topRights = document.getElementsByClassName(\"mapboxgl-ctrl-top-right\");\n    for (let i = 0; i < topRights.length; ++ i) {\n      const topRightButtons = topRights[i].children[0];\n      if (topRightButtons.childNodes.length < 4) {\n        const button = document.createElement(\"button\");\n        button.style.overflow = 'hidden';\n        button.addEventListener('click', () => toggleMapType());\n        button.innerHTML = `<button class=\"mapboxgl-cntrl-style\" type=\"button\" title=\"Toggle Map Style\" style=\"display: flex;justify-content: center;align-items: center;\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M13.144 8.171c-.035-.066.342-.102.409-.102.074.009-.196.452-.409.102zm-2.152-3.072l.108-.031c.064.055-.072.095-.051.136.086.155.021.248.008.332-.014.085-.104.048-.149.093-.053.066.258.075.262.085.011.033-.375.089-.304.171.096.136.824-.195.708-.176.225-.113.029-.125-.097-.19-.043-.215-.079-.547-.213-.68l.088-.102c-.206-.299-.36.362-.36.362zm13.008 6.901c0 6.627-5.373 12-12 12-6.628 0-12-5.373-12-12s5.372-12 12-12c6.627 0 12 5.373 12 12zm-8.31-5.371c-.006-.146-.19-.284-.382-.031-.135.174-.111.439-.184.557-.104.175.567.339.567.174.025-.277.732-.063.87-.025.248.069.643-.226.211-.381-.355-.13-.542-.269-.574-.523 0 0 .188-.176.106-.166-.218.027-.614.786-.614.395zm6.296 5.371c0-1.035-.177-2.08-.357-2.632-.058-.174-.189-.312-.359-.378-.256-.1-1.337.597-1.5.254-.107-.229-.324.146-.572.008-.12-.066-.454-.515-.605-.46-.309.111.474.964.688 1.076.201-.152.852-.465.992-.038.268.804-.737 1.685-1.251 2.149-.768.694-.624-.449-1.147-.852-.275-.211-.272-.66-.55-.815-.124-.07-.693-.725-.688-.813l-.017.166c-.094.071-.294-.268-.315-.321 0 .295.48.765.639 1.001.271.405.416.995.748 1.326.178.178.858.914 1.035.898.193-.017.803-.458.911-.433.644.152-1.516 3.205-1.721 3.583-.169.317.138 1.101.113 1.476-.029.433-.37.573-.693.809-.346.253-.265.745-.556.925-.517.318-.889 1.353-1.623 1.348-.216-.001-1.14.36-1.261.007-.094-.256-.22-.45-.353-.703-.13-.248-.015-.505-.173-.724-.109-.152-.475-.497-.508-.677-.002-.155.117-.626.28-.708.229-.117.044-.458.016-.656-.048-.354-.267-.646-.53-.851-.389-.299-.188-.537-.097-.964 0-.204-.124-.472-.398-.392-.564.164-.393-.44-.804-.413-.296.021-.538.209-.813.292-.346.104-.7-.082-1.042-.125-1.407-.178-1.866-1.786-1.499-2.946.037-.19-.114-.542-.048-.689.158-.352.48-.747.762-1.014.158-.15.361-.112.547-.229.287-.181.291-.553.572-.781.4-.325.946-.318 1.468-.388.278-.037 1.336-.266 1.503-.06 0 .038.191.604-.019.572.433.023 1.05.749 1.461.579.211-.088.134-.736.567-.423.262.188 1.436.272 1.68.069.15-.124.234-.93.052-1.021.116.115-.611.124-.679.098-.12-.044-.232.114-.425.025.116.055-.646-.354-.218-.667-.179.131-.346-.037-.539.107-.133.108.062.18-.128.274-.302.153-.53-.525-.644-.602-.116-.076-1.014-.706-.77-.295l.789.785c-.039.025-.207-.286-.207-.059.053-.135.02.579-.104.347-.055-.089.09-.139.006-.268 0-.085-.228-.168-.272-.226-.125-.155-.457-.497-.637-.579-.05-.023-.764.087-.824.11-.07.098-.13.201-.179.311-.148.055-.287.126-.419.214l-.157.353c-.068.061-.765.291-.769.3.029-.075-.487-.171-.453-.321.038-.165.213-.68.168-.868-.048-.197 1.074.284 1.146-.235.029-.225.046-.487-.313-.525.068.008.695-.246.799-.36.146-.168.481-.442.724-.442.284 0 .223-.413.354-.615.131.053-.07.376.087.507-.01-.103.445.057.489.033.104-.054.684-.022.594-.294-.1-.277.051-.195.181-.253-.022.009.34-.619.402-.413-.043-.212-.421.074-.553.063-.305-.024-.176-.52-.061-.665.089-.115-.243-.256-.247-.036-.006.329-.312.627-.241 1.064.108.659-.735-.159-.809-.114-.28.17-.509-.214-.364-.444.148-.235.505-.224.652-.476.104-.178.225-.385.385-.52.535-.449.683-.09 1.216-.041.521.048.176.124.104.324-.069.19.286.258.409.099.07-.092.229-.323.298-.494.089-.222.901-.197.334-.536-.374-.223-2.004-.672-3.096-.672-.236 0-.401.263-.581.412-.356.295-1.268.874-1.775.698-.519-.179-1.63.66-1.808.666-.065.004.004-.634.358-.681-.153.023 1.247-.707 1.209-.859-.046-.18-2.799.822-2.676 1.023.059.092.299.092-.016.294-.18.109-.372.801-.541.801-.505.221-.537-.435-1.099.409l-.894.36c-1.328 1.411-2.247 3.198-2.58 5.183-.013.079.334.226.379.28.112.134.112.712.167.901.138.478.479.744.74 1.179.154.259.41.914.329 1.186.108-.178 1.07.815 1.246 1.022.414.487.733 1.077.061 1.559-.217.156.33 1.129.048 1.368l-.361.093c-.356.219-.195.756.021.982 1.818 1.901 4.38 3.087 7.22 3.087 5.517 0 9.989-4.472 9.989-9.989zm-11.507-6.357c.125-.055.293-.053.311-.22.015-.148.044-.046.08-.1.035-.053-.067-.138-.11-.146-.064-.014-.108.069-.149.104l-.072.019-.068.087.008.048-.087.106c-.085.084.002.139.087.102z\"></path></svg></button>'`\n        topRightButtons.insertBefore(button, topRightButtons.firstChild);\n      }\n    }\n\n    map.on('move', () => {\n      setLng(map.getCenter().lng.toFixed(4));\n      setLat(map.getCenter().lat.toFixed(4));\n      setZoom(map.getZoom().toFixed(2));\n      setPitch(map.getPitch().toFixed(4));\n      setBearing(map.getBearing().toFixed(4));\n    });\n\n    map.on('load', () => {\n       \n        // Add a data source containing one point feature.\n        map.addSource('locations', {\n          'type': 'geojson',\n          'data': {\n            'type': 'FeatureCollection',\n            'features': locations.map(location => {\n              return {\n                'type': 'Feature',\n                \"id\": location.location_id,\n                'properties': {\n                  'title': location.name,\n                  'image': location.images[0],\n                },\n                'geometry': {\n                  'type': 'Point',\n                  'coordinates': location.coordinates\n                }\n              }\n            })\n          }\n        });\n\n        if (userPosition) {\n          addUserToMap(map, userPosition)\n        }\n          \n        map.addLayer({\n          'id': 'locations',\n          'type': 'circle',\n          'source': 'locations',\n          'paint': {\n            'circle-color': [\n              'case',\n              ['boolean', ['feature-state', 'hover'], false], '#000',\n              ['boolean', ['feature-state', 'filtered'], false], '#ff00ff',\n              '#ff0000',\n            ],\n            'circle-radius': 10,\n            'circle-stroke-width': 2,\n            'circle-stroke-color': '#000000'\n          }\n        });\n\n        map.addSource('mapbox-dem', {\n          'type': 'raster-dem',\n          'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',\n          'tileSize': 512,\n          'maxzoom': 14\n          });\n          // add the DEM source as a terrain layer with exaggerated height\n          map.setTerrain({ 'source': 'mapbox-dem', 'exaggeration': 1 });\n\n          map.addLayer({\n            'id': 'sky',\n            'type': 'sky',\n            'paint': {\n            'sky-type': 'atmosphere',\n            'sky-atmosphere-sun': [0.0, 0.0],\n            'sky-atmosphere-sun-intensity': 15\n            }\n          });\n\n        \n        });\n\n\n      var popup = new mapboxgl.Popup({\n        closeButton:  false,\n        closeOnClick: false,\n      });\n\n      var hoveredID = null;\n\n      map.on('mousedown', 'locations', (e) => {\n        history.push(`/${city}/${e.features[0].properties.title}`);\n      })\n\n      map.on('mousemove', 'locations', (e) => {\n\n        map.getCanvas().style.cursor = 'pointer';\n        let coordinates = e.features[0].geometry.coordinates.slice();\n        let popupHTML = buildPopup(e.features[0].properties.title, e.features[0].properties.image);\n\n        // Ensure that if the map is zoomed out such that multiple\n        // copies of the feature are visible, the popup appears\n        // over the copy being pointed to.\n        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n          coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n        }\n        \n        mapRef.current.fire('closeAllPopups');\n        popup.setLngLat(coordinates).setHTML(popupHTML).addTo(map);\n\n        if (e.features.length > 0) {\n          if (hoveredID) {\n            map.setFeatureState({\n              source: 'locations',\n              id: hoveredID,\n            }, {\n              hover: false\n            });\n          }\n          hoveredID = e.features[0].id;\n          map.setFeatureState({\n            source: 'locations',\n            id: hoveredID,\n          }, {\n            hover: true\n          });\n\n      }\n    });\n\n    map.on(\"mouseleave\", \"locations\", function() {\n      if (hoveredID != null) {\n        map.setFeatureState({\n          source: 'locations',\n          id: hoveredID\n        }, {\n          hover: false\n        });\n      }\n      hoveredID = null;\n      map.getCanvas().style.cursor = '';\n      popup.remove();\n    });\n      \n    return () => map.remove();\n  }, [locations, mapboxStyle, userPosition]);\n\n\n  return (\n    <>\n      <div className=\"topbar\">\n        <IconButton\n          className={classes.menuButton + (path.dirname(location.pathname) === '/' ? \"\" : \" smallClose\")}\n          onClick={() => setOpen(prev => !prev)}\n        >\n            {open ? <ChevronLeftIcon className={classes.menuIcon}/> : <MenuIcon className={classes.menuIcon}/> }\n        </IconButton>\n        <div className=\"logo\">\n          {`Secret Cities - ${capitalize(city)}`}\n        </div>\n        <Button \n          size='small' \n          variant='contained' \n          onClick={() => history.push(removeSlashSuffix(location.pathname) === `/${city}` ? `${removeSlashSuffix(location.pathname)}/suggest` : `/${city}/suggest`)} \n          className={classes.suggestButton + \" suggestButton\"}\n        >\n          Suggest\n        </Button>\n      </div>\n      <div className=\"topSpacer\"></div>\n      <div className=\"mainContent\">\n        {modalOpen ? \n          <StartModal city={city} closeModal={() => { \n            setModalOpen(false);\n            window.localStorage.setItem('startModal', true);\n          }}\n          /> \n          : \n          null}\n        <MemoizedSidebar open={open} locations={locations} mapRef={mapRef} city={city}/>\n        <RouterSwitch>\n          <Route exact path={`/${city}/suggest`}>\n            <SuggestionPage city={city} coordinates={coordinates}/>\n          </Route> \n          <Route path={`/${city}/:locationName`}>\n            <Modal locations={locations} city={city}/>\n          </Route>\n        </RouterSwitch>\n       </div>\n       <div ref={mapContainer} className=\"map-container\"/>\n    </>\n  );\n}\n\n\nconst SuggestionPage = ({ city, coordinates }) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [mapCoordinates, setMapCoordinates] = useState(coordinates);\n  const [email, setEmail] = useState(coordinates);\n  const [state, setState] = useState(0); // 0 is filling out, 1 is loading, 2 is finished\n  const [mapStyle, setMapStyle] = useState('mapbox://styles/mapbox/streets-v11');\n  const mapRef = useRef(null);\n\n  const [lng, setLng] = useState(coordinates[0]);\n  const [lat, setLat] = useState(coordinates[1]);\n  const [zoom, setZoom] = useState(10);\n  const [pitch, setPitch] = useState(0);\n  const [bearing, setBearing] = useState(0);\n\n\n  const toggleMapType = () => {\n    const newMapType = mapStyle === 'mapbox://styles/mapbox/streets-v11' ? \n    'mapbox://styles/mapbox/satellite-v9' : 'mapbox://styles/mapbox/streets-v11';\n    setMapStyle(newMapType);\n  }\n\n\n  useEffect(() => {\n    const suggestionMap = new mapboxgl.Map({\n      container: 'suggestionMap',\n      style: mapStyle,\n      center: [lng, lat],\n      zoom: zoom,\n      pitch: pitch, \n      bearing: bearing,\n    });\n    mapRef.current = suggestionMap\n\n\n    suggestionMap.addControl(new mapboxgl.NavigationControl(), 'top-right');\n\n    suggestionMap.on('move', () => {\n      setLng(suggestionMap.getCenter().lng.toFixed(4));\n      setLat(suggestionMap.getCenter().lat.toFixed(4));\n      setZoom(suggestionMap.getZoom().toFixed(2));\n      setPitch(suggestionMap.getPitch().toFixed(4));\n      setBearing(suggestionMap.getBearing().toFixed(4));\n    });\n\n    let topRights = document.getElementsByClassName(\"mapboxgl-ctrl-top-right\");\n    for (let i = 0; i < topRights.length; ++ i) {\n      const topRightButtons = topRights[i].children[0];\n      if (topRightButtons.childNodes.length < 4) {\n        const button = document.createElement(\"button\");\n        button.type = \"button\";\n        button.style.overflow = \"hidden\";\n        button.addEventListener('click', () => toggleMapType());\n        button.innerHTML = `<button class=\"mapboxgl-cntrl-style\" type=\"button\" title=\"Toggle Map Style\" style=\"display: flex;justify-content: center;align-items: center;\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M13.144 8.171c-.035-.066.342-.102.409-.102.074.009-.196.452-.409.102zm-2.152-3.072l.108-.031c.064.055-.072.095-.051.136.086.155.021.248.008.332-.014.085-.104.048-.149.093-.053.066.258.075.262.085.011.033-.375.089-.304.171.096.136.824-.195.708-.176.225-.113.029-.125-.097-.19-.043-.215-.079-.547-.213-.68l.088-.102c-.206-.299-.36.362-.36.362zm13.008 6.901c0 6.627-5.373 12-12 12-6.628 0-12-5.373-12-12s5.372-12 12-12c6.627 0 12 5.373 12 12zm-8.31-5.371c-.006-.146-.19-.284-.382-.031-.135.174-.111.439-.184.557-.104.175.567.339.567.174.025-.277.732-.063.87-.025.248.069.643-.226.211-.381-.355-.13-.542-.269-.574-.523 0 0 .188-.176.106-.166-.218.027-.614.786-.614.395zm6.296 5.371c0-1.035-.177-2.08-.357-2.632-.058-.174-.189-.312-.359-.378-.256-.1-1.337.597-1.5.254-.107-.229-.324.146-.572.008-.12-.066-.454-.515-.605-.46-.309.111.474.964.688 1.076.201-.152.852-.465.992-.038.268.804-.737 1.685-1.251 2.149-.768.694-.624-.449-1.147-.852-.275-.211-.272-.66-.55-.815-.124-.07-.693-.725-.688-.813l-.017.166c-.094.071-.294-.268-.315-.321 0 .295.48.765.639 1.001.271.405.416.995.748 1.326.178.178.858.914 1.035.898.193-.017.803-.458.911-.433.644.152-1.516 3.205-1.721 3.583-.169.317.138 1.101.113 1.476-.029.433-.37.573-.693.809-.346.253-.265.745-.556.925-.517.318-.889 1.353-1.623 1.348-.216-.001-1.14.36-1.261.007-.094-.256-.22-.45-.353-.703-.13-.248-.015-.505-.173-.724-.109-.152-.475-.497-.508-.677-.002-.155.117-.626.28-.708.229-.117.044-.458.016-.656-.048-.354-.267-.646-.53-.851-.389-.299-.188-.537-.097-.964 0-.204-.124-.472-.398-.392-.564.164-.393-.44-.804-.413-.296.021-.538.209-.813.292-.346.104-.7-.082-1.042-.125-1.407-.178-1.866-1.786-1.499-2.946.037-.19-.114-.542-.048-.689.158-.352.48-.747.762-1.014.158-.15.361-.112.547-.229.287-.181.291-.553.572-.781.4-.325.946-.318 1.468-.388.278-.037 1.336-.266 1.503-.06 0 .038.191.604-.019.572.433.023 1.05.749 1.461.579.211-.088.134-.736.567-.423.262.188 1.436.272 1.68.069.15-.124.234-.93.052-1.021.116.115-.611.124-.679.098-.12-.044-.232.114-.425.025.116.055-.646-.354-.218-.667-.179.131-.346-.037-.539.107-.133.108.062.18-.128.274-.302.153-.53-.525-.644-.602-.116-.076-1.014-.706-.77-.295l.789.785c-.039.025-.207-.286-.207-.059.053-.135.02.579-.104.347-.055-.089.09-.139.006-.268 0-.085-.228-.168-.272-.226-.125-.155-.457-.497-.637-.579-.05-.023-.764.087-.824.11-.07.098-.13.201-.179.311-.148.055-.287.126-.419.214l-.157.353c-.068.061-.765.291-.769.3.029-.075-.487-.171-.453-.321.038-.165.213-.68.168-.868-.048-.197 1.074.284 1.146-.235.029-.225.046-.487-.313-.525.068.008.695-.246.799-.36.146-.168.481-.442.724-.442.284 0 .223-.413.354-.615.131.053-.07.376.087.507-.01-.103.445.057.489.033.104-.054.684-.022.594-.294-.1-.277.051-.195.181-.253-.022.009.34-.619.402-.413-.043-.212-.421.074-.553.063-.305-.024-.176-.52-.061-.665.089-.115-.243-.256-.247-.036-.006.329-.312.627-.241 1.064.108.659-.735-.159-.809-.114-.28.17-.509-.214-.364-.444.148-.235.505-.224.652-.476.104-.178.225-.385.385-.52.535-.449.683-.09 1.216-.041.521.048.176.124.104.324-.069.19.286.258.409.099.07-.092.229-.323.298-.494.089-.222.901-.197.334-.536-.374-.223-2.004-.672-3.096-.672-.236 0-.401.263-.581.412-.356.295-1.268.874-1.775.698-.519-.179-1.63.66-1.808.666-.065.004.004-.634.358-.681-.153.023 1.247-.707 1.209-.859-.046-.18-2.799.822-2.676 1.023.059.092.299.092-.016.294-.18.109-.372.801-.541.801-.505.221-.537-.435-1.099.409l-.894.36c-1.328 1.411-2.247 3.198-2.58 5.183-.013.079.334.226.379.28.112.134.112.712.167.901.138.478.479.744.74 1.179.154.259.41.914.329 1.186.108-.178 1.07.815 1.246 1.022.414.487.733 1.077.061 1.559-.217.156.33 1.129.048 1.368l-.361.093c-.356.219-.195.756.021.982 1.818 1.901 4.38 3.087 7.22 3.087 5.517 0 9.989-4.472 9.989-9.989zm-11.507-6.357c.125-.055.293-.053.311-.22.015-.148.044-.046.08-.1.035-.053-.067-.138-.11-.146-.064-.014-.108.069-.149.104l-.072.019-.068.087.008.048-.087.106c-.085.084.002.139.087.102z\"></path></svg></button>'`\n        topRightButtons.insertBefore(button, topRightButtons.firstChild);\n      }\n    }\n\n\n    suggestionMap.on('load', (e) => {\n      suggestionMap.addSource('clickedLocation', {\n        'type': 'geojson',\n        'data': {\n          'type': 'FeatureCollection',\n          'features': [{\n              'geometry': {\n                'type': 'Point',\n                'coordinates': mapCoordinates\n              }\n            }]\n          }\n        }\n      );\n  \n      suggestionMap.addLayer({\n        'id': 'clickedLocation',\n        'type': 'circle',\n        'source': 'clickedLocation',\n        'paint': {\n          'circle-color': '#ff0000',\n          'circle-radius': 10,\n          'circle-stroke-width': 2,\n          'circle-stroke-color': '#000000'\n        }\n      });\n\n      });\n\n      suggestionMap.on('click', (e) => {\n        setMapCoordinates([e.lngLat.lng, e.lngLat.lat]);\n        suggestionMap.getSource('clickedLocation').setData({\n          'type': 'FeatureCollection',\n            'features': [{\n                'geometry': {\n                  'type': 'Point',\n                  'coordinates': [e.lngLat.lng, e.lngLat.lat]\n                }\n              }]\n          })\n      });\n    }, [mapStyle]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    formData.append('city', city);\n    formData.append('title', title);\n    formData.append('description', description);\n    formData.append('coordinates', `(${mapCoordinates[1]}, ${mapCoordinates[0]})`);\n    formData.append('email', email);\n    setState(1);\n    axios.post(\"https://secretcities.xyz:8080/suggestion\", formData, {headers: {'content-type': 'multipart/form-data'}})\n    .then(res => { \n        setTitle('');\n        setDescription('');\n        setState(2);\n      })\n  }\n\n  const loadFile = function(event) {\n    var imagePreviews = document.getElementById('imagePreviews');\n    imagePreviews.innerHTML = '';\n    for (let i = 0; i < event.target.files.length; i++) {\n      let img = new Image();\n      img.className = 'suggestionImage'\n      img.src = URL.createObjectURL(event.target.files[i]);\n      img.onload = function() {\n        URL.revokeObjectURL(img.src);\n        imagePreviews.appendChild(img);\n      }\n    }\n  };\n\n  if (state == 1) {\n    return (\n      <div className=\"modal suggestionScreen\">\n        <IconButton\n        className={classes.modalCancelButton}\n        onClick={() => {\n          if (!title && !description) {\n            history.push(`/${city}`);\n          } else {\n            if (window.confirm('Exiting will result in losing your work, are you sure?')) {\n              history.push(`/${city}`);\n            }\n          }\n        }}\n        >\n            <CancelIcon className={classes.modalCancelIcon}/>\n        </IconButton>\n        <div className=\"loadingCircle\">\n          <CircularProgress className={classes.loadingCircle}/>\n        </div>\n      </div>\n    )\n  }\n\n  if (state == 2) {\n    return (\n      <div className=\"modal suggestionScreen\">\n        <IconButton\n        className={classes.modalCancelButton}\n        onClick={() => {\n          if (!title && !description) {\n            history.push(`/${city}`);\n          } else {\n            if (window.confirm('Exiting will result in losing your work, are you sure?')) {\n              history.push(`/${city}`);\n            }\n          }\n        }}\n        >\n            <CancelIcon className={classes.modalCancelIcon}/>\n        </IconButton>\n        <div className=\"suggestionFinishedText\">\n          Suggestion has been submitted. Thank you for contributing.\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"modal suggestionScreen\">\n      <div className=\"modalTitle\">\n        Suggest Location\n        <IconButton\n        className={classes.modalCancelButton}\n        onClick={() => {\n          if (!title && !description) {\n            history.push(`/${city}`);\n          } else {\n            if (window.confirm('Exiting will result in losing your work, are you sure?')) {\n              history.push(`/${city}`);\n            }\n          }\n        }}\n        >\n            <CancelIcon className={classes.modalCancelIcon}/>\n        </IconButton>\n      </div>\n        <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n          <div className=\"suggestionForm\">\n            <div className=\"suggestionTitle\"> \n              <div>Title</div>\n              <input type=\"text\" id=\"title\" name=\"title\" onChange={(e) => setTitle(e.target.value)}></input> \n            </div>\n            <div className=\"suggestionDescription\"> \n              <div>Description</div>\n              <textarea type=\"text\" id=\"description\" name=\"description\" onChange={(e) => setDescription(e.target.value)}></textarea> \n            </div>\n            <div className=\"suggestionCoordinates\"> \n              <div>Coordinates (Click Map)</div>\n              <div className=\"suggestionMapContainer\">\n                <div className=\"suggestionMap\" id=\"suggestionMap\"/>\n              </div>\n            </div>\n            <div className=\"suggestionImages\"> \n              <div>Images</div>\n              <label htmlFor=\"image\" className=\"imagesButton\">&nbsp;&nbsp;&nbsp;Upload Images&nbsp;&nbsp;&nbsp;</label>\n              <input type=\"file\" id=\"image\" name=\"image\" accept=\"image/*\" multiple onChange={loadFile}  style={{ display: \"none\" }}/>\n              <div id=\"imagePreviews\"></div>\n            </div>\n            <div className=\"suggestionTitle\"> \n              <div>Email to be notified when location is posted (Optional)</div>\n              <input type=\"text\" id=\"title\" name=\"title\" onChange={(e) => setEmail(e.target.value)}></input> \n            </div>\n            <button type=\"submit\" className=\"submitButton\">Submit Suggestion</button>\n          </div>\n        </form>\n    </div>\n  )\n}\n\n\nconst Modal = ({ locations, city }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  let { locationName } = useParams();\n  const locationIndex = locations.map(l => l.name).indexOf(locationName);\n  const location = locations[locationIndex];\n\n  const [imageIndex, setImageIndex] = useState(0);\n\n  useEffect(() => {\n    setImageIndex(0);\n  }, [locationName]);\n\n  if (!location) {\n    return null;\n  }\n\n  return (\n    <div className=\"modal\">\n      <div className=\"modalTitle\">\n        {location.name}\n        <IconButton\n        className={classes.modalCancelButton}\n        onClick={() => {\n          history.push(`/${city}`)\n        }}\n        >\n            <CancelIcon className={classes.modalCancelIcon}/>\n        </IconButton>\n      </div>\n      <div className=\"modalFigure\">\n        <div className=\"modalImagesContainer\">\n            { location.images.length > 1 ?\n            <IconButton\n              className={classes.modalImageButtonLeft}\n              onClick={() => setImageIndex(prev => mod(prev - 1, location.images.length || 1))}\n            >\n              <ChevronLeftIcon className={classes.modalImageButtonIcon}/>\n            </IconButton>\n            :\n            null\n            }\n            <img className=\"modalImage\" src={location.images[imageIndex]}/>\n            \n            { location.images.length > 1 ?\n            <IconButton\n              className={classes.modalImageButtonRight}\n              onClick={() => setImageIndex(prev => mod(prev + 1, location.images.length || 1))}\n            >\n              <ChevronRightIcon className={classes.modalImageButtonIcon}/>\n          </IconButton>\n        :\n        null\n        }\n        </div>\n        <div className=\"modalFigureSubtitle\">\n          {location.caption}\n        </div>\n      </div>\n      <div className=\"modalDescriptionContainer\">\n        <div className=\"modalDescription\">\n          {location.description}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst StartModal = ({ city, closeModal }) => {\n  const classes = useStyles();\n\n  return (\n    <div className=\"startModal\">\n      <div className=\"startModalCard\">\n        <div className=\"startModalTitle\">\n          Welcome,\n          <IconButton\n          className={classes.startModalClose}\n          onClick={closeModal}\n          >\n              <CancelIcon className={classes.modalCancelIcon}/>\n          </IconButton>\n        </div>\n        <div className=\"startModalDescription\">\n          This is a website dedicated to featuring cool/interesting/secret locations around {capitalize(city)}. In the top right corner there is a button that allows you \n          to suggest locations to be added for others to enjoy. Once your suggestion is submitted it should be posted in a few hours.\n\n          <br/>\n          <br/>\n\n          If you want, you can allow this website to know your location and it will display it as a blue dot on the map. This is optional, and even if you do enable it, we do\n          not store this information.\n\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Button } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nconst cities = [\n  {\n    name: 'vancouver',\n    id: 2,\n    coordinates: [-123.1207, 49.2827],\n  },\n  {\n    name: 'montreal',\n    id: 1,\n    coordinates: [-73.6073, 45.5017],\n  },\n  {\n    name: 'calgary',\n    id: 3,\n    coordinates: [-114.0719, 51.0447],\n    initialZoom: 11\n  },\n]\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <div className=\"allWrapper\">\n      <Router>\n        <Switch>\n          {cities.map(city => \n            <Route path={`/${city.name}`} key={city.name}>\n                <App city={city.name} coordinates={city.coordinates} id={city.id} initialZoom={city.initialZoom}/>\n            </Route>\n          )}\n          <Route exact path='/'>\n            <div className=\"mainPageContainer\">\n              {cities.map(city => \n                  <div key={city.name} style={{ margin: \"20px\"}}>\n                    <Button variant=\"contained\" component={props => <Link to={`${city.name}`} {...props}/>}>\n                      {city.name}  \n                    </Button>\n                  </div>\n              )}\n              <div key={'edmonton'} style={{ margin: \"20px\"}}>\n                <Button variant=\"contained\" component={props => <Link to={{ pathname: \"https://yegsecrets.ca\" }} target=\"_blank\" {...props}/>}>\n                  {'edmonton'}  \n                </Button>\n              </div>\n            </div>\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}